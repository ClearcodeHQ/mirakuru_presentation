<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Mirakuru - czy mo&#x17C;na robi&#x107; open source w ramach komercyjnych projekt&#xF3;w?</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="base.css" media="screen,projection"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="1000"><div class="step step-level-1" step="0" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="0" data-y="0" data-z="0"><h1 id="mirakuru">Mirakuru</h1><h2 id="czy-mozna-robic-open-source-w-ramach-komercyjnych-projektow">Czy mo&#x17C;na robi&#x107; open source w ramach komercyjnych projekt&#xF3;w?</h2></div><div class="step step-level-1" step="1" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="1600" data-y="0" data-z="0"><h1 id="pawel-wilczynski-grzegorz-sliwinski">Pawe&#x142; Wilczy&#x144;ski, Grzegorz &#x15A;liwi&#x144;ski</h1><h1 id="clearcode">@ Clearcode</h1></div><div class="step step-level-1" step="2" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="3200" data-y="0" data-z="0"><h1 id="co-to-robi-i-dlaczego-uprosci-ci-zycie">Co to robi i dlaczego upro&#x15B;ci ci &#x17C;ycie?</h1></div><div class="step step-level-1" step="3" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="4800" data-y="0" data-z="0"><pre class="highlight code python"><span class="kn">from</span> <span class="nn">mirakuru</span> <span class="kn">import</span> <span class="n">SimpleExecutor</span>

<span class="n">process</span> <span class="o">=</span> <span class="n">SimpleExecutor</span><span class="p">(</span><span class="s1">'/usr/local/bin/ntpd'</span><span class="p">)</span>
<span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Do your stuff</span>

<span class="n">process</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></pre><div class="notes"><ul><li>SimpleExecutor nie czeka na start procesu</li></ul></div></div><div class="step step-level-1" step="4" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="6400" data-y="0" data-z="0"><pre class="highlight code python"><span class="kn">from</span> <span class="nn">mirakuru</span> <span class="kn">import</span> <span class="n">OutputExecutor</span>

<span class="n">process</span> <span class="o">=</span> <span class="n">OutputExecutor</span><span class="p">(</span>
    <span class="s1">'processing.py'</span><span class="p">,</span>
    <span class="n">banner</span><span class="o">=</span><span class="s1">'started!'</span>
<span class="p">)</span>
<span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>  <span class="c1"># Blocks until the process is started</span>

<span class="c1"># Do your stuff</span>

<span class="n">process</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></pre></div><div class="step step-level-1" step="5" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="8000" data-y="0" data-z="0"><pre class="highlight code python"><span class="kn">from</span> <span class="nn">mirakuru</span> <span class="kn">import</span> <span class="n">TCPExecutor</span>

<span class="n">process</span> <span class="o">=</span> <span class="n">TCPExecutor</span><span class="p">(</span>
    <span class="s1">'redis-server'</span><span class="p">,</span>
    <span class="n">host</span><span class="o">=</span><span class="s1">'localhost'</span><span class="p">,</span>
    <span class="n">port</span><span class="o">=</span><span class="mi">1234</span>
<span class="p">)</span>
<span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Do your stuff</span>

<span class="n">process</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></pre></div><div class="step step-level-1" step="6" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="9600" data-y="0" data-z="0"><pre class="highlight code python"><span class="kn">from</span> <span class="nn">mirakuru</span> <span class="kn">import</span> <span class="n">HTTPExecutor</span>

<span class="n">process</span> <span class="o">=</span> <span class="n">HTTPExecutor</span><span class="p">(</span>
    <span class="s1">'web_app.py'</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="s1">'http://localhost:6543/status'</span>
<span class="p">)</span>
<span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="c1"># Do your stuff</span>

<span class="n">process</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></pre></div><div class="step step-level-1" step="7" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="11200" data-y="0" data-z="0"><pre class="highlight code python"><span class="kn">from</span> <span class="nn">mirakuru</span> <span class="kn">import</span> <span class="n">HTTPExecutor</span>

<span class="n">proc</span> <span class="o">=</span> <span class="n">HTTPExecutor</span><span class="p">(</span>
    <span class="s1">'my_special_process'</span><span class="p">,</span>
    <span class="n">url</span><span class="o">=</span><span class="s1">'http://localhost:6543/status'</span>
<span class="p">)</span>
<span class="k">with</span> <span class="n">proc</span><span class="p">:</span>
    <span class="c1"># Do your stuff</span>
    <span class="k">assert</span> <span class="n">proc</span><span class="o">.</span><span class="n">running</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">True</span>

<span class="k">assert</span> <span class="n">proc</span><span class="o">.</span><span class="n">running</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">False</span></pre></div><div class="step step-level-1" step="8" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="12800" data-y="0" data-z="0"><pre class="highlight code python"><span class="sd">"""
:param (str, list) command: command to be run by the subprocess
:param bool shell: same as the `subprocess.Popen` shell definition
:param int timeout: number of seconds to wait for the process to start
    or stop. If None or False, wait indefinitely.
:param float sleep: how often to check for start/stop condition
:param int sig_stop: signal used to stop process run by the executor.
    default is `signal.SIGTERM`
:param int sig_kill: signal used to kill process run by the executor.
    default is `signal.SIGKILL`
"""</span></pre></div><div class="step step-level-1" step="9" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="14400" data-y="0" data-z="0"><h1 id="skad-sie-wzielo">Sk&#x105;d si&#x119; wzi&#x119;&#x142;o?</h1><div class="notes"><p>Grzegorz</p></div></div><div class="step step-level-1" step="10" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="16000" data-y="0" data-z="0"><h1 id="summon-process">summon_process</h1><ul><li>Mateusz Lenik</li><li>wroc.py #3</li></ul><div class="notes"><ul><li>Lipiec/Sierpie&#x144; 2013,</li><li>kr&#xF3;tko potem zaprz&#x105;gli&#x15B;my do naszych test&#xF3;w</li></ul></div></div><div class="step step-level-1" step="11" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="17600" data-y="0" data-z="0"><h1 id="kontrybuowanie-do-summon-process">Kontrybuowanie do summon_process</h1><ul><li>d&#x142;ugi czas reakcji</li><li>testy...</li><li>contextmanager? orchestrated!</li></ul><div class="notes"><ul><li>zamiast prostych context manager&#xF3;w, <strong>orchestrated</strong>, z klas&#x105; Orchestration</li><li><dl><dt>Orchestration - to technika s&#x142;u&#x17C;&#x105;ca rozdieleniu logicznemu zale&#x17C;nych od siebie aplikacji,</dt><dd><p>co&#x15B; a'la dyrygent, kt&#xF3;ry zawiaduje procesami wykonuj&#x105;c odpowiednie akcje na sekcjach orkiestry</p></dd></dl></li><li><dl><dt>Ka&#x17C;dy, kto musia&#x142;by u&#x17C;y&#x107; tego podejscia i napisa&#x107; Orchestratora,</dt><dd><p>musia&#x142;by i tak u&#x17C;y&#x107; swojego kontekst managera</p></dd></dl></li><li><dl><dt>O ile w og&#xF3;lnym sensie mo&#x17C;e si&#x119; przyda&#x107;, tutaj - zbyt du&#x17C;e narz&#x119;dzie. Tylko start i stop.</dt><dd><p>Na sztywno zaszyte w orchestrated.</p></dd></dl></li></ul></div></div><div class="step step-level-1" step="12" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="19200" data-y="0" data-z="0"><h1 id="forkujemy">Forkujemy</h1><img src="fork.png"></img><div class="notes"><ul><li>testy</li><li>dokumentacja</li><li>ch&#x119;&#x107; u&#x142;o&#x17C;enia api jak chcemy...</li></ul></div></div><div class="step step-level-1" step="13" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="20800" data-y="0" data-z="0"><h1 id="rozwoj-w-pracy">rozw&#xF3;j - w pracy</h1><img src="punchcard_work.png"></img></div><div class="step step-level-1" step="14" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="22400" data-y="0" data-z="0"><h1 id="rozwoj-w-domu">rozw&#xF3;j - w domu</h1><img src="punchcard_home.png"></img><div class="notes"><ul><li>na pocz&#x105;tek - euforia - jak najszybciej do releasu</li></ul></div></div><div class="step step-level-1" step="15" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="24000" data-y="0" data-z="0"><h1 id="nazwa-mirakuru">nazwa - mirakuru</h1><img src="mirakuru_slade.jpg"></img><div class="notes"><ul><li>2 sezon serialu Arrow:</li><li><dl><dt>G&#x142;&#xF3;wny antagonista - Deathstroke/Slade Wilson (Deadpool - Wade Wilson)</dt><dd><ul><li>Pod wp&#x142;ywem mirakuru, Japo&#x144;skiego serum nadcz&#x142;owieka z czas&#xF3;w WWII</li></ul></dd></dl></li><li><dl><dt>skutki mirakuru</dt><dd><ul><li>nadludzka si&#x142;a,</li><li>regenracja...</li><li>ale tak&#x17C;e agresywno&#x15B;&#x107;, halucynacje i ch&#x119;&#x107; mordestwa.</li></ul></dd></dl></li><li><dl><dt>Z tego wzgl&#x119;du w&#x142;a&#x15B;nie nazwa wydawa&#x142;a si&#x119; odpowiednia:</dt><dd><ul><li>nadludzka si&#x142;a, sterowanie zewn&#x119;trznymi us&#x142;ugami: baza danych, aplikacja.</li><li><dl><dt>je&#x15B;li jednak pope&#x142;nimy b&#x142;&#x105;d, albo pojawi si&#x119; jakis problem:</dt><dd><ul><li>procesy mog&#x105; wyciec,</li><li>mo&#x17C;emy wysyci&#x107; zasoby</li></ul></dd></dl></li></ul></dd></dl></li></ul></div></div><div class="step step-level-1" step="16" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="25600" data-y="0" data-z="0"><h1 id="czy-nazwa-jest-dobra">czy nazwa jest dobra?</h1></div><div class="step step-level-1" step="17" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="27200" data-y="0" data-z="0"><h1 id="wspierane-wersje-systemy">Wspierane wersje, systemy</h1><ul><li>python 2.7, 3.3, 3.4, 3.5</li><li>pypy, pypy3</li><li>linux, osx</li></ul><div class="notes"><ul><li>niedawno porzucili&#x15B;my wsparcie dla pythona 3.2</li><li>wsparcie dla osx jest cz&#x119;&#x15B;ciowe (pawe&#x142; opowie p&#xF3;&#x17A;niej)</li></ul></div></div><div class="step step-level-1" step="18" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="28800" data-y="0" data-z="0"><h1 id="compat-py-zadnych-zaleznosci">compat.py &amp; &#x17C;adnych zale&#x17C;no&#x15B;ci... ?</h1><pre class="highlight code python"><span class="kn">import</span> <span class="nn">sys</span>


<span class="n">python</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">executable</span>

<span class="k">if</span> <span class="n">sys</span><span class="o">.</span><span class="n">version_info</span><span class="o">.</span><span class="n">major</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">httplib</span> <span class="kn">import</span> <span class="n">HTTPConnection</span><span class="p">,</span> <span class="n">HTTPException</span><span class="p">,</span> <span class="n">OK</span>
    <span class="kn">from</span> <span class="nn">urlparse</span> <span class="kn">import</span> <span class="n">urlparse</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># In Python 3 httplib is renamed to http.client</span>
    <span class="kn">from</span> <span class="nn">http.client</span> <span class="kn">import</span> <span class="n">HTTPConnection</span><span class="p">,</span> <span class="n">HTTPException</span><span class="p">,</span> <span class="n">OK</span>
    <span class="c1"># In Python 3 urlparse is renamed to urllib.parse</span>
    <span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlparse</span></pre><div class="notes"><ul><li>pomys&#x142; zaczerpni&#x119;ty z pyramida</li><li>istnieje six, ale a&#x17C; takiej logiki nie potrzebowali&#x15B;my</li></ul></div></div><div class="step step-level-1" step="19" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="30400" data-y="0" data-z="0"><h1 id="zaleznosci-ale-tylko-testowe">zale&#x17C;no&#x15B;ci! ale tylko testowe</h1><pre class="highlight code python"><span class="n">tests_require</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s1">'pytest'</span><span class="p">,</span>  <span class="c1"># tests framework used</span>
    <span class="s1">'pytest-cov'</span><span class="p">,</span>  <span class="c1"># coverage reports to verify tests quality</span>
    <span class="s1">'mock'</span><span class="p">,</span>  <span class="c1"># tests mocking tool</span>
    <span class="s1">'python-daemon'</span><span class="p">,</span>  <span class="c1"># used in test for easy creation of daemons</span>
    <span class="s1">'pylama==6.4.0'</span><span class="p">,</span>  <span class="c1"># code linters</span>
<span class="p">)</span></pre><div class="notes"><p>Grzegorz</p></div></div><div class="step step-level-1" step="20" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="32000" data-y="0" data-z="0"><h1 id="testy">Testy</h1><ul><li>py.test!</li><li>coverage</li><li>travis-ci.org</li><li>coveralls.io</li></ul><div class="notes"><ul><li>py.test - nasz domy&#x15B;lny wyb&#xF3;r je&#x15B;li chodzi o framework testowy</li><li><dl><dt>we wszystkich naszych paczkach mierzymy pokrycie kody testami,</dt><dd><p>co i tak nie chroni nas od b&#x142;&#x119;d&#xF3;w</p></dd></dl></li><li><dl><dt>ka&#x17C;dy pull-request jest odpalany na travisie w ka&#x17C;dej wersji pythona na linuksie</dt><dd><ul><li>dodatkowo w pythonie 3.5 na osx</li></ul></dd></dl></li><li>coveralls.io - raportuje pokrycie kodu i ka&#x17C;d&#x105; zmian&#x119; na bierz&#x105;co, r&#xF3;wnie&#x17C; w pull reque&#x15B;cie</li></ul></div></div><div class="step step-level-1" step="21" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="33600" data-y="0" data-z="0"><h1 id="styl-i-jakosc-kodu">Styl i jako&#x15B;&#x107; kodu</h1><ul><li>code review</li><li>konkretne wymagania dotycz&#x105;ce stylu</li><li>opis s&#x142;owny, czego wymagamy od kodu jest ok, ale pilnowanie w code-review...</li></ul><div class="notes"><ul><li>wymagania - docstringi, zgodno&#x15B;&#x107; z pep8</li><li>w code review nie zawsze wszystko jeste&#x15B;my w stanie wy&#x142;apa&#x107;, je&#x15B;li chodzi o styl</li></ul></div></div><div class="step step-level-1" step="22" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="35200" data-y="0" data-z="0"><h1 id="lintery-enter-pylama">Lintery? Enter pylama!</h1><ul><li>Automatyzuje &#x17C;mudne zadanie sprawdzania stylu kodowania</li><li>pylama.ini - czarno na bialym spisane wymagania co do stylu kodowania</li><li>pep8, pep257, mccabe, pyflakes - OUT of the box!</li></ul><div class="notes"><ul><li>Mo&#x17C;na powiedzie&#x107;, &#x17C;e wprowadza orchestracje linter&#xF3;w</li><li>&#x142;atwo&#x15B;&#x107; pisania plugin&#xF3;w z innymi linterami (pylint, gjslint dla javascript)</li><li><dl><dt>Istnienie pliku konfiguracyjnego pozwala okre&#x15B;li&#x107; jaki&#x15B; pocz&#x105;tkowy zakres wymaga&#x144; i powoli,</dt><dd><p>pojedynczo wprowadza&#x107; kolejne</p></dd></dl></li></ul></div></div><div class="step step-level-1" step="23" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="36800" data-y="0" data-z="0"><h1 id="quantifiedcode-landscape">QuantifiedCode &amp; Landscape</h1><ul><li>Automatycznie sprawdzaj&#x105; kod pod wzgledem dobrych praktyk</li><li>QuantifiedCode - 13 smrodk&#xF3;w</li><li>Landscape - 1 smrodek, 100% jako&#x15B;ci ;)</li></ul><div class="notes"><ul><li>Na chwil&#x119; obecn&#x105; obecno&#x15B;&#x107; obu tych us&#x142;ug traktuj&#x119; jako eksperyment</li><li>QuantifiedCode - Postanowi&#x142;em sprawdzi&#x107; po wys&#x142;uchaniu podcasta "Talk Python To Me" z jednym z tw&#xF3;rc&#xF3;w.</li><li>Landscape - nawet nie wiem kto podpi&#x105;&#x142;</li></ul></div></div><div class="step step-level-1" step="24" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="38400" data-y="0" data-z="0"><h1 id="quantifiedcode">QuantifiedCode</h1><ul><li>Konfigurowalny</li><li>rozszerzalny</li><li>autofix!</li></ul><div class="notes"><ul><li>Pozwala wy&#x142;&#x105;czy&#x107; niekt&#xF3;re smrodki spo&#x15B;r&#xF3;d tych, kt&#xF3;re b&#x119;dzie sprawdza&#x107;, ale r&#xF3;wnie&#x17C; w drug&#x105; stron&#x119;, pozwala zdefiniowa&#x107; w&#x142;asne.</li><li>posiada zdefiniowane smrodki specjalnie pod wybrane frameworki</li><li>dla niekt&#xF3;rych smrodk&#xF3;w potrafi sam stworzy&#x107; pull request</li></ul></div></div><div class="step step-level-1" step="25" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="40000" data-y="0" data-z="0"><h1 id="requires-io">Requires.io</h1><ul><li>obserwuje czy zale&#x17C;no&#x15B;ci s&#x105; na czasie</li><li>tworzy pull-requesta, je&#x15B;li przypi&#x119;te s&#x105; stare</li></ul><div class="notes"><ul><li><dl><dt>pozwala to przetestowa&#x107; kod z konkretn&#x105; wersj&#x105; jakiej&#x15B; zale&#x17C;no&#x15B;ci i automatycznie zosta&#x107;</dt><dd><p>poinformowanym o nowej wersji, i &#x142;&#x105;cznie z wynikiem test&#xF3;w (travis-ci) da&#x107; informacj&#x119;,
czy nasz kod jest zgodny, czy nie</p></dd></dl></li><li>b&#x119;dziemy testowa&#x107; z przypinaniem pylamy</li></ul></div></div><div class="step step-level-1" step="26" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="41600" data-y="0" data-z="0"><h1 id="statystyki">Statystyki</h1><ul><li>210 commit&#xF3;w</li><li>11 wyda&#x144;</li><li>8 kontrybutor&#xF3;w</li><li>19 zamkni&#x119;tych ticket&#xF3;w</li><li>Python 100.0%</li><li>100% kodu pokrytego przez testy</li><li>979 linii kodu</li><li>789 linii test&#xF3;w</li><li>1494 pozosta&#x142;ych linii (dokumentacja etc.)</li></ul></div><div class="step step-level-1" step="27" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="43200" data-y="0" data-z="0"><h1 id="licencja">Licencja</h1><h2 id="gnu-lesser-general-public-license">GNU LESSER GENERAL PUBLIC LICENSE</h2><div class="notes"><p>Wykorzystanie Lesser GPL dopuszcza korzystanie z biblioteki w programach prawnie zastrze&#x17C;onych.
Zastosowanie zwyk&#x142;ej GPL powoduje, &#x17C;e biblioteka jest dost&#x119;pna tylko dla wolnych program&#xF3;w.</p></div></div><div class="step step-level-1" step="28" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="44800" data-y="0" data-z="0"><h1 id="zastosowanie-mirakuru">Zastosowanie mirakuru</h1><ul><li>pytest-dbfixtures</li><li>testy integracyjne</li></ul></div><div class="step step-level-1" step="29" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="46400" data-y="0" data-z="0"><h1 id="problemy">Problemy</h1><ul><li>OSX</li><li>Wyciekanie podproces&#xF3;w<blockquote><ul><li>daemons</li><li>ctrl + C</li><li>kill -9</li></ul></blockquote></li></ul></div><div class="step step-level-1" step="30" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="48000" data-y="0" data-z="0"><h1 id="to-the-future">To the future</h1><ul><li>mirakuru jako narz&#x119;dzie linii komend</li></ul><pre class="highlight code bash">$ mirakuru tcp 127.0.0.1 <span class="m">5000</span> <span class="se">\
</span>  -- ./fancy_command.sh

$ mirakuru tcp 127.0.0.1 <span class="m">5000</span> --timeout<span class="o">=</span><span class="m">20</span> <span class="se">\
</span>  --sig_stop<span class="o">=</span><span class="s1">'SIGKILL'</span> -- ./fancy_command.sh

$ mirakuru http http://127.0.0.1:5000/check <span class="se">\
</span>  --shell<span class="o">=</span>ture -- ./fancy_command -a <span class="s2">"abc"</span>

$ mirakuru out <span class="s2">"has started."</span> <span class="se">\
</span>  -- ./fancy_command -a <span class="s2">"abc"</span>

$ mirakuru pid /var/fancy_process/run.pid <span class="se">\
</span>  --timeout<span class="o">=</span><span class="m">100</span> -- ./fancy_command -a <span class="s2">"abc"</span></pre></div><div class="step step-level-1" step="31" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="49600" data-y="0" data-z="0"><h1 id="inne-rozwiazania">Inne rozwi&#x105;zania</h1><ul><li>subprocess<blockquote><ul><li>call</li><li>check_call</li><li>check_output</li><li>Popen</li></ul></blockquote></li><li>subprocess32 (timeout)</li></ul></div><div class="step step-level-1" step="32" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="51200" data-y="0" data-z="0"><h1 id="id1">Inne rozwi&#x105;zania</h1><ul><li>EasyProcess</li></ul><pre class="highlight code python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">easyprocess</span> <span class="kn">import</span> <span class="n">EasyProcess</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">EasyProcess</span><span class="p">(</span><span class="s1">'python --version'</span><span class="p">)</span><span class="o">.</span><span class="n">call</span><span class="p">()</span><span class="o">.</span><span class="n">stderr</span>
<span class="s1">u'Python 2.7.11'</span></pre><ul><li>spawn_and_check</li></ul><pre class="highlight code python"><span class="kn">from</span> <span class="nn">spawn_and_check</span> <span class="kn">import</span> <span class="n">execute</span><span class="p">,</span> <span class="n">check_http</span>
<span class="n">process</span> <span class="o">=</span> <span class="n">execute</span><span class="p">(</span>
    <span class="s1">'run_some_service --port 8000'</span><span class="p">,</span>
    <span class="p">[</span><span class="n">check_http</span><span class="p">(</span><span class="s1">'http://127.0.0.1:8000'</span><span class="p">)],</span>
    <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span></pre></div><div class="step step-level-1" step="33" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="52800" data-y="0" data-z="0"><h1 id="biblioteki-opensource-naszego-zespolu">Biblioteki OpenSource naszego zespo&#x142;u</h1><ul><li>mirakuru</li><li>pytest-dbfixtures</li><li>pytest-repeater</li><li>matchbox</li><li>ianitor</li></ul></div><div class="step step-level-1" step="34" data-rotate-x="0" data-rotate-y="0" data-rotate-z="0" data-scale="1" data-x="54400" data-y="0" data-z="0"><h1 id="bibliografia">Bibliografia</h1><ul><li><a href="https://pypi.python.org/pypi/mirakuru/">mirakuru</a></li><li><a href="https://github.com/mlen/summon_process">summon_process</a></li><li><a href="https://www.mulesoft.com/resources/esb/what-application-orchestration">Orchestration</a></li><li><a href="http://arrow.wikia.com/wiki/Mirakuru">Mirakuru (Arrow TV Series)</a></li><li><a href="https://pypi.python.org/pypi/pylama/">pylama linters</a></li><li><a href="http://travis-ci.org/">Travis Continous Integration</a></li><li><a href="http://coveralls.io/">coveralls.io (code coverage tool)</a></li><li><a href="https://www.quantifiedcode.com/">QuantifiedCode</a></li><li><a href="http://hovercraft.readthedocs.org/">Hovercraft rst presentations</a></li></ul></div></div><div id="hovercraft-help" class="hide"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Right, Down, Page Down</th><td>Next slide</td></tr><tr><th>Left, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>